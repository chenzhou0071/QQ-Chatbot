# 🌐 Web管理界面使用指南

## 🚀 快速开始

### 方式1：一键启动（推荐）

双击运行 `start_all_with_web.bat`

- 自动启动Web管理界面
- 自动打开浏览器
- 在Web界面中控制Bot

### 方式2：手动启动

1. 启动Web界面：`start_web.bat`
2. 浏览器访问：`http://localhost:5000`
3. 在界面中点击"启动"按钮启动Bot

## 📱 界面功能

### 🏠 仪表盘

**Bot状态卡片**
- 🟢 运行中 / ⚪ 未运行
- 运行时间、内存占用、CPU使用率
- 启动/停止/重启按钮

**今日统计**
- 收到消息数
- 回复次数
- 主动发言次数
- 触发率

**最近活动**
- 实时显示最近10条日志
- 快速了解Bot运行情况

### ⚙️ 配置页面

**基础配置**
- Bot QQ号
- 管理员QQ
- 目标群号

**AI配置**
- DeepSeek API Key
- 阿里云 API Key
- 温度参数（控制回复随机性）

**触发配置**
- ☑ @触发回复
- ☑ 关键词触发
- ☑ 名字触发
- ☑ 智能判断
- 触发概率滑块（0-100%）

**人设配置**
- 名字
- 昵称

💡 **修改后记得点击"保存配置"按钮！**

### 📝 日志页面

**功能**
- 实时显示Bot运行日志
- WebSocket推送，无需刷新
- 自动滚动开关
- 清空日志按钮

**使用技巧**
- 关闭自动滚动可以查看历史日志
- 日志会自动保留最近1000条

### 👥 群友管理

**显示信息**
- 群友QQ号
- 昵称
- 生日（如果设置）
- 备注信息
- 消息数统计

### 📊 统计页面

（开发中...）

## 💡 使用技巧

### 1. 首次使用

1. 启动Web界面
2. 进入"配置"页面
3. 填写必要信息：
   - Bot QQ号
   - 管理员QQ
   - 目标群号
   - DeepSeek API Key
   - 阿里云 API Key
4. 点击"保存配置"
5. 返回"仪表盘"
6. 点击"启动"按钮

### 2. 调整触发概率

如果Bot回复太频繁或太少：

1. 进入"配置"页面
2. 找到"触发配置"
3. 拖动"触发概率"滑块
4. 点击"保存配置"
5. 重启Bot生效

### 3. 查看实时日志

1. 进入"日志"页面
2. 观察Bot的运行情况
3. 如果有错误会显示在日志中

### 4. 管理群友

1. 进入"群友"页面
2. 查看所有群友信息
3. 可以看到谁最活跃

## 🔧 常见问题

### Q: Web界面打不开？

**A:** 检查以下几点：
- 5000端口是否被占用
- 虚拟环境是否激活
- 依赖是否安装完整：`pip install -r requirements.txt`

### Q: Bot启动失败？

**A:** 查看日志页面的错误信息：
- 检查配置是否正确
- 检查API Key是否有效
- 检查NapCat是否运行

### Q: 修改配置后不生效？

**A:** 需要重启Bot：
1. 点击"停止"按钮
2. 等待2秒
3. 点击"启动"按钮

### Q: 实时日志不更新？

**A:** 刷新页面重新连接WebSocket

### Q: 如何远程访问？

**A:** 
1. 确保防火墙允许5000端口
2. 使用局域网IP访问：`http://192.168.x.x:5000`
3. 注意：不建议暴露到公网

## 🎨 界面预览

```
┌─────────────────────────────────────────┐
│  🏠 仪表盘  ⚙️ 配置  📝 日志  👥 群友   │
├─────────────────────────────────────────┤
│                                          │
│  🤖 Bot 状态                             │
│  ● 运行中  [停止] [重启]                 │
│  运行时间: 2小时34分                     │
│  内存: 256 MB  CPU: 2.3%                │
│                                          │
│  📊 今日统计                             │
│  收到消息: 156  回复: 42  触发率: 27%    │
│                                          │
│  🔥 最近活动                             │
│  15:23 收到消息: 舟舟                    │
│  15:23 AI回复: 嗯？怎么啦？              │
└─────────────────────────────────────────┘
```

## 📚 更多信息

- 详细文档：`web/README.md`
- 项目文档：`docs/`
- 问题反馈：GitHub Issues

## 🎉 享受使用！

有任何问题欢迎反馈！
