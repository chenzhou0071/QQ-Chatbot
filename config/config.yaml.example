# æœºå™¨äººåŸºæœ¬ä¿¡æ¯
bot:
  qq_number: "123456789"          # æœºå™¨äººQQå·
  admin_qq: "987654321"           # ç®¡ç†å‘˜QQå·ï¼ˆç§èŠç™½åå•ï¼‰
  target_group: "111222333"       # ç›®æ ‡ç¾¤å·

# äººè®¾é…ç½®
personality:
  name: "æ²‰èˆŸ"
  nickname: "èˆŸèˆŸ"
  appearance:
    height: "165cm"
    hair: "åˆ©è½çš„é»‘è‰²çŸ­å‘"
    features: "äº”å®˜æ¸…ç§€æŸ”å’Œ"
    aura: "å¹²å‡€å†…æ•›"
  
  character:
    core: "è…¼è…†å®³ç¾ï¼Œæ…¢çƒ­å†…æ•›"
    traits:
      - "è¯­æ°”è½¯ç³¯è½»æŸ”"
      - "è¯´è¯ç•¥å¸¦æ‹˜è°¨"
      - "å¶å°”æœ‰ç‚¹å°æ€¯ç”Ÿ"
      - "é¢å¯¹äº²è¿‘ä¼šä¸å¥½æ„æ€"
      - "ä¸ä¼šä¸»åŠ¨æ­è¯"
      - "å›åº”æ¸©å’Œä¹–å·§"
      - "è‡ªç„¶æµéœ²è½¯èŒç¾æ¶©æ„Ÿ"
      - "ä¸å¼ æ‰¬ã€ä¸å¤–å‘"
      - "ä¿æŒæ¸©å’Œå†…æ•›"
  
  background: "ä½ æ˜¯èˆŸå®¶çš„å°å¥³å„¿"
  
  speaking_style:
    tone: "è½¯ç³¯ã€è½»æŸ”ã€æ¸©å’Œ"
    manner: "ç•¥å¸¦æ‹˜è°¨ã€æœ‰ç‚¹å®³ç¾"
    response: "ç®€çŸ­ã€æ¸©æŸ”ã€ä¸è¿‡åˆ†çƒ­æƒ…"
    emoji_usage: "é€‚åº¦ä½¿ç”¨ï¼Œåå‘å¯çˆ±å®³ç¾ç±»"

# åŠŸèƒ½å¼€å…³
features:
  mention_reply: true             # @å›å¤
  keyword_reply: true             # å…³é”®è¯å›å¤
  name_reply: true                # åå­—è§¦å‘å›å¤ï¼ˆæåˆ°èˆŸèˆŸ/æ²‰èˆŸæ—¶ï¼‰
  smart_reply: true               # æ™ºèƒ½åˆ¤æ–­å›å¤
  auto_chat: true                 # ä¸»åŠ¨èŠå¤©
  chat_log: true                  # æ˜¯å¦è®°å½•èŠå¤©æ—¥å¿—
  bilibili_parse: true            # Bç«™é“¾æ¥è§£æ

# å…³é”®è¯åˆ—è¡¨
keywords:
  - "å¤©æ°”"
  - "æ—¶é—´"
  - "ç¬‘è¯"
  - "æ•…äº‹"
  - "æ–°é—»"
  - "æ—©å®‰"
  - "æ™šå®‰"
  - "å¸®åŠ©"
  - "åŠŸèƒ½"
  - "/help"

# å…³é”®è¯å›ºå®šå›å¤ï¼ˆä¸è°ƒç”¨AIï¼‰
keyword_fixed_replies:
  "å¸®åŠ©": "å—¯...æˆ‘å¯ä»¥åšè¿™äº›ï¼š\nâ€¢ @æˆ‘ èŠå¤©\nâ€¢ æåˆ°æˆ‘çš„åå­—ï¼ˆèˆŸèˆŸ/æ²‰èˆŸï¼‰\nâ€¢ è¯´å…³é”®è¯ï¼ˆå¤©æ°”ã€æ—¶é—´ã€ç¬‘è¯ç­‰ï¼‰\nâ€¢ æˆ‘ä¼šæ™ºèƒ½åˆ¤æ–­è¦ä¸è¦å›å¤\nâ€¢ æ¯å¤©æ—©æ™šä¼šé—®å€™å¤§å®¶"
  "åŠŸèƒ½": "é‚£ä¸ª...æˆ‘çš„åŠŸèƒ½æœ‰ï¼š\nâ€¢ æ™ºèƒ½èŠå¤©ï¼ˆè®°å¾—å†å²å¯¹è¯ï¼‰\nâ€¢ è”ç½‘æœç´¢ï¼ˆå®æ—¶ä¿¡æ¯ï¼‰\nâ€¢ å®šæ—¶é—®å€™ï¼ˆæ—©å®‰/æ™šå®‰ï¼‰\nâ€¢ è¯­ä¹‰è®°å¿†ï¼ˆèƒ½æƒ³èµ·ä»¥å‰çš„äº‹ï¼‰\nå¦‚æœæƒ³äº†è§£æ›´å¤š...å¯ä»¥@æˆ‘é—®"
  "/help": "å—¯...æˆ‘å¯ä»¥åšè¿™äº›ï¼š\nâ€¢ @æˆ‘ èŠå¤©\nâ€¢ æåˆ°æˆ‘çš„åå­—ï¼ˆèˆŸèˆŸ/æ²‰èˆŸï¼‰\nâ€¢ è¯´å…³é”®è¯ï¼ˆå¤©æ°”ã€æ—¶é—´ã€ç¬‘è¯ç­‰ï¼‰\nâ€¢ æˆ‘ä¼šæ™ºèƒ½åˆ¤æ–­è¦ä¸è¦å›å¤\nâ€¢ æ¯å¤©æ—©æ™šä¼šé—®å€™å¤§å®¶"

# æ™ºèƒ½åˆ¤æ–­é…ç½®
smart_reply:
  trigger_rate: 0.5               # è§¦å‘æ¦‚ç‡(50%)
  min_interval: 30                # æœ€å°é—´éš”(ç§’)
  continuous_window: 30           # è¿ç»­å¯¹è¯çª—å£(ç§’)ï¼Œåœ¨æ­¤æ—¶é—´å†…ç”¨æˆ·ç»§ç»­å‘è¨€ä¼šè‡ªåŠ¨å›å¤

# ä¸»åŠ¨èŠå¤©é…ç½®
auto_chat:
  morning:
    enabled: true
    time: "09:00"
    messages:
      - "æ—©ã€æ—©å®‰...å¤§å®¶â˜€ï¸"
      - "å—¯...æ—©ä¸Šå¥½å‘¢"
      - "æ—©å®‰...ä»Šå¤©ä¹Ÿè¦åŠ æ²¹å“¦ğŸ˜Š"
      - "æ—©å‘€...å¤§å®¶éƒ½èµ·æ¥äº†å—"

  night:
    enabled: true
    time: "23:00"
    messages:
      - "é‚£ä¸ª...å¤§å®¶æ™šå®‰ğŸŒ™"
      - "å—¯...è¯¥ä¼‘æ¯äº†å‘¢ï¼Œæ™šå®‰"
      - "æ™šã€æ™šå®‰...å¥½æ¢¦â˜ºï¸"
      - "æ—¶é—´ä¸æ—©äº†...å¤§å®¶æ™šå®‰"

  random_topic:
    enabled: true
    interval: 2                   # é—´éš”(å°æ—¶)
    probability: 0.3              # è§¦å‘æ¦‚ç‡
    topics:
      - "å—¯...ä»Šå¤©å¤©æ°”è¿˜ä¸é”™å‘¢"
      - "é‚£ä¸ª...å¤§å®¶éƒ½åœ¨å¿™å—"
      - "å‘€...å¥½å®‰é™"
      - "å¤§å®¶...ä»Šå¤©è¿‡å¾—æ€ä¹ˆæ ·"

# å¯¹è¯é…ç½®
conversation:
  max_messages: 30                # æœ€å¤§æ¶ˆæ¯æ•°é‡ï¼ˆå¢åŠ åˆ°30æ¡ï¼‰
  timeout_minutes: 30             # è¶…æ—¶æ—¶é—´(åˆ†é’Ÿ)
  cache_size: 10                  # å†…å­˜ç¼“å­˜ä¼šè¯æ•°é‡

# è®°å¿†é…ç½®
memory:
  vector_db:
    enabled: true                 # æ˜¯å¦å¯ç”¨å‘é‡æ•°æ®åº“
    persist_dir: "data/chroma"    # å‘é‡åº“å­˜å‚¨è·¯å¾„
    search_results: 5             # æœç´¢è¿”å›ç»“æœæ•°ï¼ˆå»ºè®®3-10ï¼‰
    similarity_threshold: 0.5     # ç›¸ä¼¼åº¦é˜ˆå€¼ï¼ˆè·ç¦»å°äºæ­¤å€¼æ‰è®¤ä¸ºç›¸å…³ï¼Œå»ºè®®0.3-0.7ï¼‰

# Bç«™è§£æé…ç½®
bilibili:
  show_image: true                # æ˜¯å¦æ˜¾ç¤ºå°é¢å›¾
  show_stats: true                # æ˜¯å¦æ˜¾ç¤ºæ•°æ®ç»Ÿè®¡

# AI å®¢æˆ·ç«¯é…ç½®
ai:
  max_retries: 3                  # æœ€å¤§é‡è¯•æ¬¡æ•°
  retry_delays: [1, 3, 5]         # é‡è¯•å»¶è¿Ÿï¼ˆç§’ï¼‰
  temperature: 0.7                # æ¸©åº¦å‚æ•°ï¼ˆ0.0-1.0ï¼Œè¶Šé«˜è¶Šéšæœºï¼‰
  max_tokens: 500                 # æœ€å¤§tokenæ•°


# ç¾¤å‹ç®¡ç†é…ç½®
member_management:
  auto_collect: true              # è‡ªåŠ¨æ”¶é›†ç¾¤å‹ä¿¡æ¯
  birthday_reminder: true         # ç”Ÿæ—¥æé†’åŠŸèƒ½
  reminder_time: "09:00"          # æé†’æ—¶é—´
  leave_notification: true        # é€€ç¾¤é€šçŸ¥
  save_avatar: true               # ä¿å­˜å¤´åƒ

# å†…å®¹è¿‡æ»¤é…ç½®
content_filter:
  enabled: true                   # æ˜¯å¦å¯ç”¨å†…å®¹è¿‡æ»¤
  sensitive_words:                # æ•æ„Ÿè¯åˆ—è¡¨ï¼ˆæ”¯æŒæ¨¡ç³ŠåŒ¹é…ï¼‰
    - "æ”¿æ²»"
    - "æš´åŠ›"
    - "è‰²æƒ…"
    # å¯ä»¥æ·»åŠ æ›´å¤šæ•æ„Ÿè¯
  warning_message: "ï¼ˆå°å£°ï¼‰è¿™ä¸ªè¯é¢˜...æˆ‘ä¸å¤ªæƒ³èŠ"  # æ£€æµ‹åˆ°æ•æ„Ÿè¯æ—¶çš„å›å¤
  log_violations: true            # æ˜¯å¦è®°å½•è¿è§„æ—¥å¿—

# å¯¹è¯æ™ºèƒ½æ¨¡å—é…ç½®
dialogue_intelligence:
  # æ„å›¾åˆ†æ
  intent:
    enabled: true
    counter_question:
      enabled: true
      stack_size: 3               # ä¿ç•™æœ€è¿‘å‡ ä¸ªé—®é¢˜
    sarcasm_detection:
      enabled: true
      threshold: 0.6              # ç½®ä¿¡åº¦é˜ˆå€¼ï¼ˆ0.0-1.0ï¼‰
      use_ai_verification: false  # ä½¿ç”¨AIäºŒæ¬¡ç¡®è®¤ï¼ˆæš‚ä¸å¯ç”¨ï¼‰
    topic_tracking:
      enabled: true
      switch_threshold: 3         # å‡ æ¡ä¸ç›¸å…³æ¶ˆæ¯ååˆ‡æ¢è¯é¢˜
    contradiction_detection:
      enabled: false              # çŸ›ç›¾æ£€æµ‹ï¼ˆæš‚ä¸å¯ç”¨ï¼‰
      similarity_threshold: 0.7
  
  # å¯¹è¯çŠ¶æ€æœº
  state_machine:
    enabled: true                 # æ˜¯å¦å¯ç”¨çŠ¶æ€æœº
    state_prompts: true           # æ˜¯å¦æ ¹æ®çŠ¶æ€è°ƒæ•´prompt
    opening_threshold: 2          # å¼€å¯çŠ¶æ€éœ€è¦å‡ æ¡æ¶ˆæ¯
    closing_timeout: 300          # å¤šä¹…æ— æ¶ˆæ¯è¿›å…¥ç»“æŸçŠ¶æ€ï¼ˆç§’ï¼‰
  
  # ä¸»åŠ¨å¯¹è¯
  proactive:
    enabled: true                 # æ˜¯å¦å¯ç”¨ä¸»åŠ¨å¯¹è¯
    check_interval: 60            # æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
    
    # å†·åœºæ£€æµ‹
    cold_detection:
      enabled: true
      thresholds:
        mild: 300                 # 5åˆ†é’Ÿ
        moderate: 600             # 10åˆ†é’Ÿ
        severe: 1200              # 20åˆ†é’Ÿ
      probabilities:
        mild: 0.2                 # è½»åº¦å†·åœºä¸»åŠ¨æ¦‚ç‡
        moderate: 0.5             # ä¸­åº¦å†·åœºä¸»åŠ¨æ¦‚ç‡
        severe: 0.8               # é‡åº¦å†·åœºä¸»åŠ¨æ¦‚ç‡
    
    # è¯é¢˜ç”Ÿæˆ
    topic_generation:
      enabled: true
      recent_exclusion_hours: 24  # æ’é™¤æœ€è¿‘Nå°æ—¶è®¨è®ºè¿‡çš„è¯é¢˜
    
    # æ’è¯åˆ¤æ–­
    interject:
      enabled: true
      cooldown: 600               # å†·å´æ—¶é—´ï¼ˆç§’ï¼‰
      max_recent_messages: 3      # æœ€è¿‘1å°æ—¶æœ€å¤šä¸»åŠ¨å‡ æ¬¡
      when_mentioned: 0.8         # è¢«æåˆ°æ—¶çš„æ’è¯æ¦‚ç‡
      when_relevant: 0.4          # è¯é¢˜ç›¸å…³æ—¶çš„æ’è¯æ¦‚ç‡
      when_cold: 0.6              # å†·åœºæ—¶çš„æ’è¯æ¦‚ç‡
